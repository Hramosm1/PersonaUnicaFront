<div class="modal-header">
	<h4 class="modal-title pull-left">Organizaciones</h4>
	<button type="button" class="close" (click)="modalRef.hide()">
		<prx-icon icon="x"></prx-icon>
	</button>
</div>
<div class="modal-body" perfectScrollbar>
	<form>
		<input class="form-control" [formControl]="filtro" type="text" />
	</form>
	<ngx-datatable
		class="material"
		[rows]="empleos"
		[loadingIndicator]="true"
		[count]="page.totalElements"
		[limit]="page.take"
		[externalPaging]="true"
		[columnMode]="ColumnMode.force"
		headerHeight="auto"
		footerHeight="auto"
		rowHeight="auto"
		(page)="setPage($event)"
	>
		<ngx-datatable-column name="id"></ngx-datatable-column>
		<ngx-datatable-column name="RazÃ³n social">
			<ng-template let-row="row" ngx-datatable-cell-template>{{
				row.razonSocial
			}}</ng-template>
		</ngx-datatable-column>
		<ngx-datatable-column name="Nombre Empresa">
			<ng-template let-row="row" ngx-datatable-cell-template>{{
				row.PU_Nombres[0].nombre || ''
			}}</ng-template>
		</ngx-datatable-column>
		<ngx-datatable-column name="">
			<ng-template let-row="row" ngx-datatable-cell-template
				><button (click)="enviarInfo(row)" class="btn btn-info">
					Seleccionar
				</button></ng-template
			>
		</ngx-datatable-column>
	</ngx-datatable>
</div>
<div class="modal-footer">
	<button
		type="button"
		class="btn btn-outline-danger"
		(click)="modalRef.hide()"
	>
		cerrar
	</button>
	<button type="button" class="btn btn-primary" (click)="openModal(formNew)">
		Crear empresa
	</button>
</div>
<ng-template #formNew>
	<prx-nueva-empresa
		[modalRef]="chillModalRef"
		(cerrarModal)="setPage({ offset: 0 })"
	></prx-nueva-empresa>
</ng-template>
